import sys

import gedecompress as gd

if len(sys.argv) < 3:
    print("usage: %s input output <0x0ff537>" % sys.argv[0])
    exit(1)


with open(sys.argv[1], "rb") as rom:
    data = rom.read()

    all_chunks = [
        0x42c50, 0x4367a, 0x440c8, 0x44ba2, 0x456d8, 0x46182, 0x46af6, 0x475c6, 0x47f3c, 0x488e2, 0x48f8a, 0x496a8, 0x49ecc, 0x4a81a, 0x4af5e, 0x4b872, 0x4c0b0, 0x4c98e, 0x4d28a, 0x4dd96, 0x4e7aa, 0x4f166, 0x4fb76, 0x5057a, 0x50fac, 0x519ac, 0x522ba, 0x52d90, 0x537d8, 0x54232, 0x54bd0, 0x55668, 0x560a6, 0x56ab0, 0x5757c, 0x57f84, 0x58a3a, 0x59516, 0x59f1a, 0x5a974, 0x5b324, 0x5bd34, 0x5c758, 0x5d17c, 0x5da7a, 0x5e54e, 0x5f09a, 0x5fb4a, 0x60704, 0x6111e, 0x61bfe, 0x6242e, 0x62e4e, 0x6381c, 0x642e6, 0x64dca, 0x65762, 0x661da, 0x66bae, 0x67624, 0x68016, 0x68ab2, 0x6951e, 0x6a042, 0x6aa72, 0x6b354, 0x6bda2, 0x6c87a, 0x6d2fe, 0x6dd48, 0x6e2fc, 0x6e808, 0x6f1ba, 0x6faea, 0x7042a, 0x70e8c, 0x718f6, 0x723aa, 0x72e2e, 0x73888, 0x74352, 0x74dda, 0x75884, 0x7630c, 0x76d96, 0x77862, 0x7830e, 0x78dec, 0x798ae, 0x7a344, 0x7ae0a, 0x7b7d8, 0x7c268, 0x7ce1a, 0x7d982, 0x7e482, 0x7ee90, 0x7f8b8, 0x802ba, 0x80d48, 0x81744, 0x821a8, 0x82a72, 0x834ea, 0x83eb4, 0x8489c, 0x852f6, 0x85d10, 0x864b0, 0x86fbc, 0x87986, 0x88130, 0x88778, 0x89030, 0x897d8, 0x8a182, 0x8ab2a, 0x8b5d8, 0x8be54, 0x8c7d2, 0x8d196, 0x8da22, 0x8e354, 0x8ebd0, 0x8f456, 0x8feee, 0x9096a, 0x9139c, 0x91da0, 0x92864, 0x933c6, 0x93f08, 0x94a16, 0x95484, 0x95f3c, 0x969f8, 0x974be, 0x97f4e, 0x98988, 0x99550, 0x9a022, 0x9ab78, 0x9b648, 0x9c0d4, 0x9cb14, 0x9d66a, 0x9e066, 0x9eaf8, 0x9f570, 0x9ff34, 0xa0a0a, 0xa1524, 0xa1f34, 0xa281e, 0xa3238, 0xa3c4e, 0xa46d4, 0xa5070, 0xa59dc, 0xa62f8, 0xa6c80, 0xa7716, 0xa8286, 0xa8d10, 0xa96b2, 0xaa100, 0xaab56, 0xab528, 0xabc24, 0xac5a4, 0xad196, 0xadab0, 0xae500, 0xaefbc, 0xaf94c, 0xb048e, 0xb0f4c, 0xb1a20, 0xb2552, 0xb307a, 0xb3ad8, 0xb45f0, 0xb4fb0, 0xb5a30, 0xb6408, 0xb6f44, 0xb7a38, 0xb855c, 0xb8f0a, 0xb98e6, 0xba40a, 0xbad6e, 0xbb82e, 0xbc30c, 0xbcd50, 0xbd754, 0xbe1f4, 0xbecb2, 0xbf6b0, 0xbfd34, 0xc0726, 0xc127c, 0xc1cf8, 0xc26fa, 0xc308a, 0xc3a8a, 0xc44aa, 0xc4fbc, 0xc5ae8, 0xc62fa, 0xc6e02, 0xc785c, 0xc830a, 0xc8e04, 0xc990e, 0xca37c, 0xcae5a, 0xcb982, 0xcc4ba, 0xccfc4, 0xcd9d0, 0xce4ac, 0xcef92, 0xcfa42, 0xd0568, 0xd1084, 0xd1c0a, 0xd26a0, 0xd317a, 0xd3c6e, 0xd46fc, 0xd51d6, 0xd5c3a, 0xd66c6, 0xd7178, 0xd7b0c, 0xd85d0, 0xd9006, 0xd9a9e, 0xda568, 0xdb084, 0xdba7a, 0xdc5c6, 0xdd092, 0xddb4a, 0xde63e, 0xdf08e, 0xdfaf8, 0xe0656, 0xe1198, 0xe1c9a, 0xe27e4, 0xe33a6, 0xe3eae, 0xe49a6, 0xe52e6, 0xe5e0a, 0xe68d2, 0xe728c, 0xe7c8c, 0xe86dc, 0xe910c, 0xe9c06, 0xea602, 0xeb0ae, 0xebb56, 0xec642, 0xed0b2, 0xedb7c, 0xee636, 0xef130, 0xefb7e, 0xf057a, 0xf0f7e, 0xf1ac2, 0xf2556, 0xf3080, 0xf3ace, 0xf44ec, 0xf4fba, 0xf591a, 0xf62f8, 0xf6db8, 0xf7900, 0xf83f8, 0xf8e7c, 0xf98e2, 0xfa2b2, 0xfad3a, 0xfb6d8, 0xfc0e0, 0xfcb12, 0xfd5ce, 0xfe03a, 0xfea84, 0xff4dc, 0xffebe, 0x100936, 0x10147c, 0x101ed2, 0x1029ea, 0x1034ca, 0x103ed0, 0x10497e, 0x1052bc, 0x105c52, 0x10657a, 0x106ffa, 0x107a22, 0x1083e0, 0x108e72, 0x109946, 0x10a3f4, 0x10aeae, 0x10b906, 0x10c162, 0x10cc4a, 0x10d518, 0x10df94, 0x10e9ca, 0x10f340, 0x10fe0e, 0x110824, 0x11128a, 0x111c68, 0x112570, 0x112f70, 0x113982, 0x11421c, 0x114c52, 0x11563c, 0x11607e, 0x116b16, 0x117344, 0x117bf2, 0x1182f6, 0x118cb8, 0x11964e, 0x11a06e, 0x11a9dc, 0x11b32a, 0x11bd42, 0x11c7bc, 0x11d296, 0x11dc86, 0x11e6ec, 0x11f110, 0x11fb96, 0x1205dc, 0x121018, 0x121b1e, 0x1225f8, 0x122e00, 0x12384a, 0x124086, 0x124918, 0x125222, 0x125b6e, 0x126488, 0x126f12, 0x1278fc, 0x1283c0, 0x128d78, 0x1297e2, 0x12a196, 0x12abf6, 0x12b68c, 0x12c088, 0x12c916, 0x12d42a, 0x12df46, 0x12ea32, 0x12f47c, 0x12ffc2, 0x130ac8, 0x13148a, 0x131fd6, 0x132a90, 0x13353a, 0x13404e, 0x134acc, 0x1354ac, 0x135fe8, 0x136b0e, 0x137526, 0x137ed2, 0x1388f4, 0x13941c, 0x139e18, 0x13a880, 0x13b004, 0x13bba4, 0x13c6e8, 0x13d084, 0x13dba8, 0x13e5c0, 0x13f090, 0x13fbe0, 0x1406a4, 0x1410be, 0x141ade, 0x14256a, 0x142fea, 0x143aac, 0x1444fc, 0x144dfc, 0x145878, 0x146326, 0x146e06, 0x1479c4, 0x148502, 0x148fd8, 0x149acc, 0x14a54a, 0x14b08e, 0x14ba2e, 0x14c542, 0x14cf30, 0x14d8d0, 0x14e368, 0x14ee2c, 0x14f85a, 0x150318, 0x150e56, 0x15196a, 0x15243a, 0x152cc2, 0x153642, 0x1540c4, 0x154b74, 0x1555de, 0x1560ea, 0x156b22, 0x1575fe, 0x1580e6, 0x158b10, 0x159560, 0x15a020, 0x15ab88, 0x15b630, 0x15c174, 0x15cbda, 0x15d712, 0x15e162, 0x15ec50, 0x15f75a, 0x160292, 0x160cca, 0x161796, 0x1622a4, 0x162d18, 0x16381e, 0x1641e6, 0x164d3e, 0x165846, 0x16635a, 0x166ea4, 0x167910, 0x168296, 0x168a8a, 0x169460, 0x169d24, 0x16a86e, 0x16b3a4, 0x16bece, 0x16ca2c, 0x16d532, 0x16dfaa, 0x16ea80, 0x16f4fa, 0x17005c, 0x170b36, 0x1715e4, 0x171fe6, 0x172940, 0x173470, 0x173d3e, 0x1747c4, 0x17520a, 0x175c44, 0x17672a, 0x1771a2, 0x177ca4, 0x1787a4, 0x17925c, 0x179d04, 0x17a7ce, 0x17b18a, 0x17bc14, 0x17c6fe, 0x17d106, 0x17db12, 0x17e528, 0x17efbc, 0x17faee, 0x1805a2, 0x180efc, 0x18185e, 0x182274, 0x182b28, 0x1834f2, 0x183ef0, 0x18489e, 0x1852b4, 0x185c80, 0x186550, 0x1a3869, 0x1a94a2, 0x1aeb15, 0x1afb47, 0x1afb6e, 0x1b758c, 0x1be9d7, 0x1c0b76, 0x1c14cb, 0x1c5a29, 0x1cf247, 0x1cfb72, 0x1d043a, 0x1d0e5c, 0x1d167f, 0x1d2072, 0x1d29aa, 0x1d347a, 0x1d3e86, 0x1d4819, 0x1d50df, 0x1d594d, 0x1d8ab1, 0x1d93e5, 0x1e0276, 0x1e1158, 0x1e2033, 0x1e2ee4, 0x1eaf9c, 0x1f3cf9, 0x1f6611, 0x20123a, 0x21424f, 0x21bf3f, 0x2233c4, 0x22ad44, 0x2300ee, 0x230b82, 0x2315ec, 0x235526, 0x23937d, 0x23f4c7, 0x240148, 0x240a20, 0x241107, 0x24160a, 0x243ad0, 0x259698, 0x25abdc, 0x25b37c, 0x25bbde, 0x25f660, 0x25ffad, 0x260b3e, 0x2617d9, 0x262161, 0x262bf1, 0x2634fd, 0x263c6b, 0x264449, 0x264bef, 0x265c4a, 0x268e48, 0x269048, 0x269260, 0x26c2e3, 0x26d5a6, 0x26e8d9, 0x274056, 0x274c42, 0x28565e, 0x28f0b1, 0x294661, 0x295ba2, 0x2cc0a7, 0x2ccd3c, 0x2cd9d1, 0x2ce666, 0x2da68c, 0x2e3bce, 0x2e82cf, 0x2edc01, 0x2ee776, 0x2ef36c, 0x2efd90, 0x2f2d30, 0x2fad0e, 0x2fb740, 0x2fc214, 0x2fea4d, 0x304b2d, 0x306c71, 0x3081bf, 0x317079, 0x31d81a, 0x31e1c9, 0x325a05, 0x326438, 0x326e26, 0x327671, 0x32feff, 0x330a6a, 0x3317ee, 0x3322c0, 0x33389a, 0x336560, 0x3369f9, 0x336d4a, 0x3370a9, 0x337632, 0x337bee, 0x3381aa, 0x338709, 0x338ec5, 0x3395b4, 0x339d8b, 0x33bf9f, 0x33ed4d, 0x34cc5b, 0x35889c, 0x366a0f, 0x36f705, 0x370494, 0x3713c9, 0x373467, 0x374e14, 0x3750bc, 0x3752ae, 0x3755af, 0x38255c, 0x387ca3, 0x38831e, 0x38fd46, 0x390bc1, 0x391e70, 0x39221f, 0x398a01, 0x398e48, 0x399299, 0x399735, 0x39a39b, 0x39c3cc, 0x39c773, 0x39cd37, 0x39d495, 0x3a0a40, 0x3a5e82, 0x3d4967, 0x3d5452, 0x3d5f5f, 0x3d6a3f, 0x3d7523, 0x3d8024, 0x3d8b6b, 0x3d94eb, 0x3d9d65, 0x3e3876, 0x3e3fbb, 0x3e4660, 0x3e518f, 0x3e5cdd, 0x3ea67e, 0x3eb2fd, 0x3f38b3, 0x3fef80, 0x3ff19c, 0x3ff2a5, 0x3ff6ef, 0x3ff863, 0x3ffe91, 0x401a56, 0x4063f2, 0x41896d, 0x41f71c, 0x420394, 0x422eec, 0x424b74, 0x429fbc, 0x42a257, 0x42e4ab, 0x442eb4, 0x45611d, 0x4567cc, 0x4571a6, 0x457b2a, 0x4584ba, 0x4636a5, 0x4681f5, 0x468a7c, 0x469430, 0x4694f5, 0x469876, 0x469e1a, 0x46a2ef, 0x46a74d, 0x46c7c0, 0x46e021, 0x46e8ed, 0x46f1bd, 0x46f7ec, 0x46ff98, 0x4706b6, 0x470de1, 0x47140b, 0x4719ad, 0x471fab, 0x472501, 0x472ae4, 0x4731e2, 0x47390b, 0x47408b, 0x47465b, 0x474c33, 0x475301, 0x475a5f, 0x476323, 0x476cf8, 0x477499, 0x477d1a, 0x478633, 0x478d84, 0x47956b, 0x479bd6, 0x47a30a, 0x47aba6, 0x47b4c0, 0x47bac2, 0x47c085, 0x47c905, 0x47d12e, 0x47d736, 0x47dd5d, 0x47e612, 0x47ee3b, 0x47f77f, 0x480116, 0x480b2e, 0x481485, 0x481e25, 0x4827f8, 0x4831a7, 0x483b9b, 0x48464e, 0x4850d8, 0x485a6b, 0x486241, 0x486b23, 0x4873f9, 0x487ce2, 0x4885cd, 0x488ec0, 0x48979d, 0x489e1f, 0x48a5a5, 0x48ae45, 0x48b680, 0x48beb0, 0x48c82b, 0x48d214, 0x48dc46, 0x48e6db, 0x48ef33, 0x48f4fa, 0x48fbae, 0x490390, 0x491092, 0x491650, 0x491c3d, 0x4923e2, 0x492bf1, 0x49323e, 0x493917, 0x4941a1, 0x494a81, 0x4950b3, 0x495799, 0x495ffb, 0x496937, 0x497343, 0x497d8f, 0x4987e9, 0x499019, 0x499874, 0x49a125, 0x49a770, 0x49ae58, 0x49b6e6, 0x49c013, 0x49c665, 0x49cc66, 0x49d52a, 0x49ddcb, 0x49e862, 0x49f293, 0x49f7e8, 0x49fe44, 0x4a04f7, 0x4a0be2, 0x4a12a3, 0x4a19d4, 0x4a22ba, 0x4a2bf3, 0x4a34d2, 0x4a3dee, 0x4a46be, 0x4a5272, 0x4a5c9d, 0x4a6335, 0x4a6a55, 0x4a731b, 0x4a7c9d, 0x4a8625, 0x4a9188, 0x4a9c44, 0x4aa7be, 0x4ab2dc, 0x4abd46, 0x4ac598, 0x4acf6e, 0x4ad94e, 0x4ae264, 0x4aeb66, 0x4af4d8, 0x4afe7f, 0x4b07cb, 0x4b10cc, 0x4b197e, 0x4b2016, 0x4b2a1c, 0x4b3005, 0x4b39cd, 0x4b436c, 0x4b4d09, 0x4b5453, 0x4b5d9f, 0x4b653b, 0x4b6f38, 0x4b7c20, 0x4b8abe, 0x4b9300, 0x4b9bf9, 0x4ba452, 0x4babee, 0x4bb4db, 0x4bbc4c, 0x4bc4a9, 0x4bcdab, 0x4bd623, 0x4bdc63, 0x4be673, 0x4bed70, 0x4bf5e6, 0x4bfec4, 0x4c05fe, 0x4c0cce, 0x4c14d9, 0x4c1da5, 0x4c262a, 0x4c2d7f, 0x4c368d, 0x4c3d9a, 0x4c450d, 0x4c4cc6, 0x4c50b9, 0x4c53c8, 0x4c57ce, 0x4c5f7a, 0x4c682a, 0x4c7048, 0x4c7812, 0x4c7fd2, 0x4c87ff, 0x4c90ff, 0x4c99ed, 0x4ca2a1, 0x4cab06, 0x4cb3c8, 0x4cbbbe, 0x4cc3a8, 0x4ccacc, 0x4cd1fe, 0x4cd98f, 0x4ce265, 0x4cea7f, 0x4cf153, 0x4cf86a, 0x4cfc6b, 0x4d04ac, 0x4d0d5c, 0x4d15b3, 0x4d1abc, 0x4d2311, 0x4d284d, 0x4d337f, 0x4d3b69, 0x4d425f, 0x4d4b60, 0x4d5499, 0x4d5f30, 0x4d68be, 0x4d753f, 0x4d7f0e, 0x4d874a, 0x4d91e0, 0x4d9b97, 0x4da31f, 0x4dad7a, 0x4db63b, 0x4dbd91, 0x4dc48e, 0x4dcfe4, 0x4ddb40, 0x4de5c6, 0x4dee6a, 0x4df7c5, 0x4e00be, 0x4e0c6e, 0x4e16e3, 0x4e23b6, 0x4e2cd6, 0x4e3308, 0x4e3aa0, 0x4e447d, 0x4e4b7d, 0x4e5232, 0x4e5a6c, 0x4e6444, 0x4e6eba, 0x4e77f0, 0x4e7f70, 0x4e86f5, 0x4e8f78, 0x4e961a, 0x4e9ec4, 0x4eaf83, 0x4fd86a, 0x4fe45a, 0x4fef82, 0x500030, 0x500b21, 0x501760, 0x501f9d, 0x502886, 0x50300e, 0x5037c1, 0x504013, 0x5090b8, 0x50980e, 0x509f6b, 0x50a694, 0x50adfe, 0x50b6eb, 0x510b2c, 0x5115f2, 0x51205a, 0x512a4d, 0x51a372, 0x5205fa, 0x52135f, 0x522171, 0x522ed8, 0x52af01, 0x52b143, 0x52b3ed, 0x52b66c, 0x52ba05, 0x52bce4, 0x52c13e, 0x52c99d, 0x52d6bc, 0x52e3ed, 0x52ef49, 0x52fc1e, 0x5307da, 0x530d24, 0x531a17, 0x532666, 0x5332a9, 0x533ed0, 0x534b07, 0x534b1f, 0x535729, 0x536412, 0x5370e6, 0x537dd9, 0x538a3a, 0x538a52, 0x538e42, 0x5391d2, 0x53955e, 0x539850, 0x53a037, 0x53a64b, 0x53ae7f, 0x53b1c7, 0x53bc7d, 0x53c8ca, 0x53d24d, 0x53da19, 0x53e447, 0x53f0f4, 0x53fab1, 0x540332, 0x540819, 0x540eca, 0x54190c, 0x541b7d, 0x542018, 0x542b90, 0x5430a0, 0x543cdc, 0x5442f2, 0x544ecd, 0x5456bf, 0x5456e9, 0x546249, 0x546bca, 0x546be2, 0x547780, 0x548121, 0x548139, 0x548c26, 0x549356, 0x549704, 0x54a3ce, 0x54a8d1, 0x54b090, 0x54bb8e, 0x54dc4d, 0x54dfdc, 0x54dff4, 0x54e00c, 0x54e33c, 0x54e49e, 0x54e8f3, 0x54e90b, 0x54e923, 0x54ece1, 0x54ed8b, 0x54eda3, 0x54f0c3, 0x54f1dd, 0x54f64f, 0x54f6ee, 0x54fa9b, 0x54fb31, 0x54fbab, 0x54ffd2, 0x54ffea, 0x5505f6, 0x550cc5, 0x550f4c, 0x551584, 0x5518fd, 0x551f05, 0x5522eb, 0x5529a6, 0x552d95, 0x5533f0, 0x5537ea, 0x553e22, 0x554188, 0x55477a, 0x55488b, 0x554e4c, 0x5558ac, 0x55595e, 0x555b18, 0x555cd6, 0x555e6d, 0x555feb, 0x556198, 0x55646f, 0x55652a, 0x556833, 0x556b86, 0x556fb6, 0x55741b, 0x55782f, 0x557d38, 0x5581f9, 0x5588e0, 0x558f9e, 0x559675, 0x559a88, 0x55a158, 0x55a57c, 0x55a9c9, 0x55ae91, 0x55b30f, 0x55b6f1, 0x55bb79, 0x55bea6, 0x55bebf, 0x55c255, 0x55c857, 0x55cbef, 0x55d06e, 0x55d5d8, 0x55dd20, 0x55e153, 0x55e808, 0x55f02b, 0x55f584, 0x55fd37, 0x5604db, 0x560982, 0x560f01, 0x561738, 0x561a76, 0x562114, 0x56283c, 0x562cad, 0x569f5b, 0x56db94, 0x56f8eb, 0x56fda1, 0x57098e, 0x570f67, 0x571133, 0x571319, 0x57157a, 0x571796, 0x5719a4, 0x571ef6, 0x573deb, 0x57f96a, 0x58532f, 0x5946ae, 0x5965f4, 0x59c02d, 0x5a1c3b, 0x5a2393, 0x5a29b4, 0x5a2ffa, 0x5a5ac4, 0x5a5f59, 0x5a6428, 0x5a6a87, 0x5a75e9, 0x5a7e13, 0x5a81ad, 0x5a875f, 0x5a8c3e, 0x5a90ef, 0x5b4d6e, 0x5c15f8, 0x5c726d, 0x5ca005, 0x5cac7f, 0x5cb8f8, 0x5cc657, 0x5ce789, 0x5d629e, 0x5db6ec, 0x619930, 0x62ceb5, 0x6300f8, 0x63155c, 0x632f9e, 0x633d04, 0x634a35, 0x638a0a, 0x63b6de, 0x63bea9, 0x63c5ca, 0x63cfb9, 0x64b009, 0x64ba47, 0x64c2de, 0x64cc1f, 0x64d5d6, 0x64da43, 0x64e1eb, 0x64ea9a, 0x64f642, 0x6504a0, 0x650d69, 0x651cfc, 0x654f75, 0x655266, 0x65bff1, 0x65c085, 0x65c700, 0x65d961, 0x65d9df, 0x666840, 0x667602, 0x667f99, 0x66897b, 0x6692dd, 0x66a1f0, 0x66bc07, 0x6787ae, 0x697a65, 0x6984a2, 0x698ed1, 0x699645, 0x69a32b, 0x69e04b, 0x69ee5c, 0x69f841, 0x6acf62, 0x6ade04, 0x6b60fc, 0x6b6c7b, 0x6b99b5, 0x6bc16a, 0x6bf907, 0x6c3972, 0x6c44f2, 0x6c4b40, 0x6c5ed3, 0x6c6aa0, 0x6c7f87, 0x6c8648, 0x6c9e77, 0x6ca8ce, 0x6cb3ed, 0x6cb77d, 0x6cbccf, 0x6cc194, 0x6cc667, 0x6ccfa0, 0x6cd85b, 0x6da038, 0x6daa0a, 0x6e5035, 0x6ebbb4, 0x6ec391, 0x6f34f1, 0x6f3a33, 0x6f4022, 0x6f46b9, 0x6f4d6d, 0x6f53da, 0x6f567f, 0x6f59a3, 0x6f5d66, 0x729079, 0x7298dd, 0x72a1f9, 0x72a9b1, 0x72d05b, 0x73609c, 0x743308, 0x74469e, 0x744b1d, 0x74532a, 0x7455d2, 0x748345, 0x7493a1, 0x74a29e, 0x74aed8, 0x74b179, 0x74e2ed, 0x74e5b9, 0x74e8ae, 0x74ebbd, 0x74eeda, 0x74f201, 0x74f9f1, 0x7501bc, 0x7507af, 0x751069, 0x75640a, 0x756aa1, 0x75832a, 0x75e944, 0x7632d1, 0x763deb, 0x76485c, 0x7652c7, 0x765c45, 0x76b100, 0x76b75e, 0x76ba92, 0x76bdf1, 0x76c165, 0x76c501, 0x76c894, 0x76cd2e, 0x76d1fe, 0x76d71b, 0x76dc34, 0x76e180, 0x76eb42, 0x76f45e, 0x771d64, 0x771fa7, 0x77292a, 0x773116, 0x7738e5, 0x773f2f, 0x775727, 0x777bec, 0x778209, 0x779bff, 0x7824ca, 0x783039, 0x784dcd, 0x78708e, 0x78cc95, 0x792935, 0x79bbf5, 0x79f962, 0x7a7e6b, 0x7a923e, 0x7ad86a, 0x7ade74, 0x7aded8, 0x7b1f28, 0x7b30b1, 0x7b39b7, 0x7b42bd, 0x7b98de, 0x7bb2de, 0x7c3865, 0x7c5cfd, 0x7cc0ed, 0x7cc7ec, 0x7ccf73, 0x7cd76a, 0x7cdf76, 0x7ce7a3, 0x7cf008, 0x7cf832, 0x7cffee, 0x7d0768, 0x7d0fd0, 0x7d185f, 0x7d20b0, 0x7d28f9, 0x7d3118, 0x7d3758, 0x7da226, 0x7f1eae, 0x7f247d, 0x7f299f, 0x7ffa69, 0x81265a, 0x812e38, 0x8135fa, 0x813d9e, 0x81452c, 0x814cac, 0x8155b6, 0x815ec3, 0x816780, 0x8170d5, 0x81793d, 0x818130, 0x818965, 0x8192b5, 0x819ae4, 0x81a11e, 0x81a756, 0x81ad53, 0x81b257, 0x81b768, 0x81bc0b, 0x81c729, 0x81d30f, 0x81de07, 0x81e9b5, 0x831c3b, 0x83266a, 0x83312c, 0x833ae3, 0xa24343, 0xa26079, 0xa264e1, 0xa26bb7, 0xa28158, 0xa29d59, 0xa332ed, 0xa3380b, 0xa33ec0, 0xa34605, 0xa37a7a, 0xa38427, 0xa38d93, 0xa39715, 0xa39a87, 0xa39dcc, 0xa3a31e, 0xa3b4d3, 0xa4443a, 0xa44e41, 0xa45510, 0xa459dc, 0xa46308, 0xa4b708, 0xa4c128, 0xa4cc67, 0xa4d6e1, 0xa99a04, 0xa9d04c, 0xa9d72b, 0xa9dfc6, 0xaa67ff, 0xc972bf, 0xcd7a63, 0xcd7b27, 0xcd7cad, 0xcd7d33, 0xcd7f8b, 0xcd81c5, 0xcd8237, 0xcd82bd, 0xcd86b3, 0xcd8791, 0xcd87a9, 0xcd881b, 0xd3d5f7, 0xd6ca63, 0xe76b15, 0xe76b4f, 0xe7a46d, 0x128a5e7 ]

    chunk0 = [
        0x42c50, 0x4367a, 0x440c8, 0x44ba2, 0x456d8, 0x46182, 0x46af6, 0x475c6, 0x47f3c, 0x488e2, 0x48f8a, 0x496a8, 0x49ecc, 0x4a81a, 0x4af5e, 0x4b872, 0x4c0b0, 0x4c98e, 0x4d28a, 0x4dd96, 0x4e7aa, 0x4f166, 0x4fb76, 0x5057a, 0x50fac, 0x519ac, 0x522ba, 0x52d90, 0x537d8, 0x54232, 0x54bd0, 0x55668, 0x560a6, 0x56ab0, 0x5757c, 0x57f84, 0x58a3a, 0x59516, 0x59f1a, 0x5a974, 0x5b324, 0x5bd34, 0x5c758, 0x5d17c, 0x5da7a, 0x5e54e, 0x5f09a, 0x5fb4a, 0x60704, 0x6111e, 0x61bfe, 0x6242e, 0x62e4e, 0x6381c, 0x642e6, 0x64dca, 0x65762, 0x661da, 0x66bae, 0x67624, 0x68016, 0x68ab2, 0x6951e, 0x6a042, 0x6aa72, 0x6b354, 0x6bda2, 0x6c87a, 0x6d2fe, 0x6dd48, 0x6e2fc, 0x6e808, 0x6f1ba, 0x6faea, 0x7042a, 0x70e8c, 0x718f6, 0x723aa, 0x72e2e, 0x73888, 0x74352, 0x74dda, 0x75884, 0x7630c, 0x76d96, 0x77862, 0x7830e, 0x78dec, 0x798ae, 0x7a344, 0x7ae0a, 0x7b7d8, 0x7c268, 0x7ce1a, 0x7d982, 0x7e482, 0x7ee90, 0x7f8b8, 0x802ba, 0x80d48, 0x81744, 0x821a8, 0x82a72, 0x834ea, 0x83eb4, 0x8489c, 0x852f6, 0x85d10, 0x864b0, 0x86fbc, 0x87986, 0x88130, 0x88778, 0x89030, 0x897d8, 0x8a182, 0x8ab2a, 0x8b5d8, 0x8be54, 0x8c7d2, 0x8d196, 0x8da22, 0x8e354, 0x8ebd0, 0x8f456, 0x8feee, 0x9096a, 0x9139c, 0x91da0, 0x92864, 0x933c6, 0x93f08, 0x94a16, 0x95484, 0x95f3c, 0x969f8, 0x974be, 0x97f4e, 0x98988, 0x99550, 0x9a022, 0x9ab78, 0x9b648, 0x9c0d4, 0x9cb14, 0x9d66a, 0x9e066, 0x9eaf8, 0x9f570, 0x9ff34, 0xa0a0a, 0xa1524, 0xa1f34, 0xa281e, 0xa3238, 0xa3c4e, 0xa46d4, 0xa5070, 0xa59dc, 0xa62f8, 0xa6c80, 0xa7716, 0xa8286, 0xa8d10, 0xa96b2, 0xaa100, 0xaab56, 0xab528, 0xabc24, 0xac5a4, 0xad196, 0xadab0, 0xae500, 0xaefbc, 0xaf94c, 0xb048e, 0xb0f4c, 0xb1a20, 0xb2552, 0xb307a, 0xb3ad8, 0xb45f0, 0xb4fb0, 0xb5a30, 0xb6408, 0xb6f44, 0xb7a38, 0xb855c, 0xb8f0a, 0xb98e6, 0xba40a, 0xbad6e, 0xbb82e, 0xbc30c, 0xbcd50, 0xbd754, 0xbe1f4, 0xbecb2, 0xbf6b0, 0xbfd34, 0xc0726, 0xc127c, 0xc1cf8, 0xc26fa, 0xc308a, 0xc3a8a, 0xc44aa, 0xc4fbc, 0xc5ae8, 0xc62fa, 0xc6e02, 0xc785c, 0xc830a, 0xc8e04, 0xc990e, 0xca37c, 0xcae5a, 0xcb982, 0xcc4ba, 0xccfc4, 0xcd9d0, 0xce4ac, 0xcef92, 0xcfa42, 0xd0568, 0xd1084, 0xd1c0a, 0xd26a0, 0xd317a, 0xd3c6e, 0xd46fc, 0xd51d6, 0xd5c3a, 0xd66c6, 0xd7178, 0xd7b0c, 0xd85d0, 0xd9006, 0xd9a9e, 0xda568, 0xdb084, 0xdba7a, 0xdc5c6, 0xdd092, 0xddb4a, 0xde63e, 0xdf08e, 0xdfaf8, 0xe0656, 0xe1198, 0xe1c9a, 0xe27e4, 0xe33a6, 0xe3eae, 0xe49a6, 0xe52e6, 0xe5e0a, 0xe68d2, 0xe728c, 0xe7c8c, 0xe86dc, 0xe910c, 0xe9c06, 0xea602, 0xeb0ae, 0xebb56, 0xec642, 0xed0b2, 0xedb7c, 0xee636, 0xef130, 0xefb7e, 0xf057a, 0xf0f7e, 0xf1ac2, 0xf2556, 0xf3080, 0xf3ace, 0xf44ec, 0xf4fba, 0xf591a, 0xf62f8, 0xf6db8, 0xf7900, 0xf83f8, 0xf8e7c, 0xf98e2, 0xfa2b2, 0xfad3a, 0xfb6d8, 0xfc0e0, 0xfcb12, 0xfd5ce, 0xfe03a, 0xfea84, 0xff4dc, 0xffebe, 0x100936, 0x10147c, 0x101ed2, 0x1029ea, 0x1034ca, 0x103ed0, 0x10497e, 0x1052bc, 0x105c52, 0x10657a, 0x106ffa, 0x107a22, 0x1083e0, 0x108e72, 0x109946, 0x10a3f4, 0x10aeae, 0x10b906, 0x10c162, 0x10cc4a, 0x10d518, 0x10df94, 0x10e9ca, 0x10f340, 0x10fe0e, 0x110824, 0x11128a, 0x111c68, 0x112570, 0x112f70, 0x113982, 0x11421c, 0x114c52, 0x11563c, 0x11607e, 0x116b16, 0x117344, 0x117bf2, 0x1182f6, 0x118cb8, 0x11964e, 0x11a06e, 0x11a9dc, 0x11b32a, 0x11bd42, 0x11c7bc, 0x11d296, 0x11dc86, 0x11e6ec, 0x11f110, 0x11fb96, 0x1205dc, 0x121018, 0x121b1e, 0x1225f8, 0x122e00, 0x12384a, 0x124086, 0x124918, 0x125222, 0x125b6e, 0x126488, 0x126f12, 0x1278fc, 0x1283c0, 0x128d78, 0x1297e2, 0x12a196, 0x12abf6, 0x12b68c, 0x12c088, 0x12c916, 0x12d42a, 0x12df46, 0x12ea32, 0x12f47c, 0x12ffc2, 0x130ac8, 0x13148a, 0x131fd6, 0x132a90, 0x13353a, 0x13404e, 0x134acc, 0x1354ac, 0x135fe8, 0x136b0e, 0x137526, 0x137ed2, 0x1388f4, 0x13941c, 0x139e18, 0x13a880, 0x13b004, 0x13bba4, 0x13c6e8, 0x13d084, 0x13dba8, 0x13e5c0, 0x13f090, 0x13fbe0, 0x1406a4, 0x1410be, 0x141ade, 0x14256a, 0x142fea, 0x143aac, 0x1444fc, 0x144dfc, 0x145878, 0x146326, 0x146e06, 0x1479c4, 0x148502, 0x148fd8, 0x149acc, 0x14a54a, 0x14b08e, 0x14ba2e, 0x14c542, 0x14cf30, 0x14d8d0, 0x14e368, 0x14ee2c, 0x14f85a, 0x150318, 0x150e56, 0x15196a, 0x15243a, 0x152cc2, 0x153642, 0x1540c4, 0x154b74, 0x1555de, 0x1560ea, 0x156b22, 0x1575fe, 0x1580e6, 0x158b10, 0x159560, 0x15a020, 0x15ab88, 0x15b630, 0x15c174, 0x15cbda, 0x15d712, 0x15e162, 0x15ec50, 0x15f75a, 0x160292, 0x160cca, 0x161796, 0x1622a4, 0x162d18, 0x16381e, 0x1641e6, 0x164d3e, 0x165846, 0x16635a, 0x166ea4, 0x167910, 0x168296, 0x168a8a, 0x169460, 0x169d24, 0x16a86e, 0x16b3a4, 0x16bece, 0x16ca2c, 0x16d532, 0x16dfaa, 0x16ea80, 0x16f4fa, 0x17005c, 0x170b36, 0x1715e4, 0x171fe6, 0x172940, 0x173470, 0x173d3e, 0x1747c4, 0x17520a, 0x175c44, 0x17672a, 0x1771a2, 0x177ca4, 0x1787a4, 0x17925c, 0x179d04, 0x17a7ce, 0x17b18a, 0x17bc14, 0x17c6fe, 0x17d106, 0x17db12, 0x17e528, 0x17efbc, 0x17faee, 0x1805a2, 0x180efc, 0x18185e, 0x182274, 0x182b28, 0x1834f2, 0x183ef0, 0x18489e, 0x1852b4, 0x185c80, 0x186550
    ]

    chunk1 = [
        0x46e021, 0x46e8ed, 0x46f1bd, 0x46f7ec, 0x46ff98, 0x4706b6, 0x470de1, 0x47140b, 0x4719ad, 0x471fab, 0x472501, 0x472ae4, 0x4731e2, 0x47390b, 0x47408b, 0x47465b, 0x474c33, 0x475301, 0x475a5f, 0x476323, 0x476cf8, 0x477499, 0x477d1a, 0x478633, 0x478d84, 0x47956b, 0x479bd6, 0x47a30a, 0x47aba6, 0x47b4c0, 0x47bac2, 0x47c085, 0x47c905, 0x47d12e, 0x47d736, 0x47dd5d, 0x47e612, 0x47ee3b, 0x47f77f, 0x480116, 0x480b2e, 0x481485, 0x481e25, 0x4827f8, 0x4831a7, 0x483b9b, 0x48464e, 0x4850d8, 0x485a6b, 0x486241, 0x486b23, 0x4873f9, 0x487ce2, 0x4885cd, 0x488ec0, 0x48979d, 0x489e1f, 0x48a5a5, 0x48ae45, 0x48b680, 0x48beb0, 0x48c82b, 0x48d214, 0x48dc46, 0x48e6db, 0x48ef33, 0x48f4fa, 0x48fbae, 0x490390, 0x491092, 0x491650, 0x491c3d, 0x4923e2, 0x492bf1, 0x49323e, 0x493917, 0x4941a1, 0x494a81, 0x4950b3, 0x495799, 0x495ffb, 0x496937, 0x497343, 0x497d8f, 0x4987e9, 0x499019, 0x499874, 0x49a125, 0x49a770, 0x49ae58, 0x49b6e6, 0x49c013, 0x49c665, 0x49cc66, 0x49d52a, 0x49ddcb, 0x49e862, 0x49f293, 0x49f7e8, 0x49fe44, 0x4a04f7, 0x4a0be2, 0x4a12a3, 0x4a19d4, 0x4a22ba, 0x4a2bf3, 0x4a34d2, 0x4a3dee, 0x4a46be, 0x4a5272, 0x4a5c9d, 0x4a6335, 0x4a6a55, 0x4a731b, 0x4a7c9d, 0x4a8625, 0x4a9188, 0x4a9c44, 0x4aa7be, 0x4ab2dc, 0x4abd46, 0x4ac598, 0x4acf6e, 0x4ad94e, 0x4ae264, 0x4aeb66, 0x4af4d8, 0x4afe7f, 0x4b07cb, 0x4b10cc, 0x4b197e, 0x4b2016, 0x4b2a1c, 0x4b3005, 0x4b39cd, 0x4b436c, 0x4b4d09, 0x4b5453, 0x4b5d9f, 0x4b653b, 0x4b6f38, 0x4b7c20, 0x4b8abe, 0x4b9300, 0x4b9bf9, 0x4ba452, 0x4babee, 0x4bb4db, 0x4bbc4c, 0x4bc4a9, 0x4bcdab, 0x4bd623, 0x4bdc63, 0x4be673, 0x4bed70, 0x4bf5e6, 0x4bfec4, 0x4c05fe, 0x4c0cce, 0x4c14d9, 0x4c1da5, 0x4c262a, 0x4c2d7f, 0x4c368d, 0x4c3d9a, 0x4c450d, 0x4c4cc6, 0x4c50b9, 0x4c53c8, 0x4c57ce, 0x4c5f7a, 0x4c682a, 0x4c7048, 0x4c7812, 0x4c7fd2, 0x4c87ff, 0x4c90ff, 0x4c99ed, 0x4ca2a1, 0x4cab06, 0x4cb3c8, 0x4cbbbe, 0x4cc3a8, 0x4ccacc, 0x4cd1fe, 0x4cd98f, 0x4ce265, 0x4cea7f, 0x4cf153, 0x4cf86a, 0x4cfc6b, 0x4d04ac, 0x4d0d5c, 0x4d15b3, 0x4d1abc, 0x4d2311, 0x4d284d, 0x4d337f, 0x4d3b69, 0x4d425f, 0x4d4b60, 0x4d5499, 0x4d5f30, 0x4d68be, 0x4d753f, 0x4d7f0e, 0x4d874a, 0x4d91e0, 0x4d9b97, 0x4da31f, 0x4dad7a, 0x4db63b, 0x4dbd91, 0x4dc48e, 0x4dcfe4, 0x4ddb40, 0x4de5c6, 0x4dee6a, 0x4df7c5, 0x4e00be, 0x4e0c6e, 0x4e16e3, 0x4e23b6, 0x4e2cd6, 0x4e3308, 0x4e3aa0, 0x4e447d, 0x4e4b7d, 0x4e5232, 0x4e5a6c, 0x4e6444, 0x4e6eba, 0x4e77f0, 0x4e7f70, 0x4e86f5, 0x4e8f78, 0x4e961a, 0x4e9ec4
    ]

    if len(sys.argv) == 4:
        chunks = [int(x, 16) for x in sys.argv[3].split(",")]
    else:
        chunks = chunk0

    decompressor = gd.GeDecompressor()

    AMALGAMATE = False

    result = []
    for i, offset in enumerate(chunks):
        try:
            compressed_length, decompressed_data = decompressor.Decompress(data[offset:offset + 4096]) # will chunk be larger?
            if compressed_length > 0:
                print("Index: %s, Compressed: %i, Decompressed: %i" % (str(hex(offset)), compressed_length, len(decompressed_data)))
                if AMALGAMATE:
                    result += decompressed_data
                else:
                    with open(sys.argv[2] + str(i).zfill(4) + ".bin", "wb") as f: # hex(offset)
                        f.write(bytearray(decompressed_data))
                    with open(sys.argv[2] + str(i).zfill(4) + ".rzp", "wb") as f:
                        f.write(bytearray(data[offset:offset+compressed_length]))
        except Exception as e:
            print(e)
            pass

    if len(result) > 0:
        with open(sys.argv[2], "wb") as f:
            f.write(bytearray(result))
